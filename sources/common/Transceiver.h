#pragma once

/*
    Функциональность взаимодействия между процессорами
*/


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
namespace Transceiver
{
    /// Параметром передаётся указатель на функцию, которая будет вызываться при инициализации пинов на приём или передачу, чтобы внешняя программа знала, что нужно перенастроить выводы,
    /// если мы хотим использовать их в другом режиме.
    void Init(void (*callbackInitPins)());

    bool InInteraction();

    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    namespace Transmitter
    {
        void Send(uint8 *data, uint size);
        void Send(uint8 data);
        void Send(uint8 byte0, uint8 byte1);
    };

    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    namespace Receiver
    {
        /// Функция циклического опроса. Принимает данные, если таковые имеются, и передаёт их через функцию, установленную в SetCallbackReceive.
        void Update();
    };
};

